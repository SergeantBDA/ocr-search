<div id="job-panel"
     hx-get="/jobs/{{ job_id }}"
     hx-trigger="load delay:500ms, every 2s"
     hx-swap="outerHTML">

  <div class="alert alert-info d-flex align-items-center" role="alert">
    <div>
      <strong>Статус:</strong> {{ job.status|e }} — обработано {{ job.done }}/{{ job.total }}
    </div>
  </div>

  <div class="progress" style="height: 6px;">
    {% set pct = (100 * job.done // job.total) if job.total else 0 %}
    <div class="progress-bar" role="progressbar"
         style="width: {{ pct }}%;"
         aria-valuemin="0" aria-valuemax="100" aria-valuenow="{{ pct }}">
      <span class="visually-hidden">{{ pct }}%</span>
    </div>
  </div>

  <div class="small text-muted mt-1">Задание: {{ job_id }}</div>
</div>
