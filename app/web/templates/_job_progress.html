<div id="job-panel"
     hx-get="/jobs/{{ job_id }}"
     hx-trigger="load delay:500ms, every 2s"
     hx-swap="outerHTML">
 
  <div class="alert alert-info d-flex align-items-center" role="alert">
    <div>
      <strong>Статус:</strong> {{ job.status|e }} — обработано {{ job.done }}/{{ job.total }}
    </div>
  </div>
 
  <div class="ocr-progress-row">
    <div class="ocr-progress">
      {% set pct = (100 * job.done // job.total) if job.total else 0 %}
      <div class="ocr-progress-bar"
           role="progressbar"
           style="width: {{ pct }}%;"
           aria-valuemin="0" aria-valuemax="100" aria-valuenow="{{ pct }}"></div>
    </div>
    <div class="ocr-pct" aria-hidden="true">{{ pct }}%</div>
  </div>
 
  <div class="small text-muted ocr-job-id">Задание: {{ job_id }}</div>
</div>
